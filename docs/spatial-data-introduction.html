<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Spatial Data Introduction | Opioid-Environment-Toolkit.utf8</title>
  <meta name="description" content="<span style='color: #982568; font-size:42px'>Opioid Environment Toolkit
</style>" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Spatial Data Introduction | Opioid-Environment-Toolkit.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Spatial Data Introduction | Opioid-Environment-Toolkit.utf8" />
  
  
  

<meta name="author" content="Developed for the JCOIN Network of the NIH HEAL Initiative. Last Updated : 2020-10-08" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="geocodingAddress-tutorial.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-basics"><i class="fa fa-check"></i>Software Basics</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#author-team"><i class="fa fa-check"></i>Author Team</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="spatial-data-introduction.html"><a href="spatial-data-introduction.html"><i class="fa fa-check"></i><b>1</b> Spatial Data Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="spatial-data-introduction.html"><a href="spatial-data-introduction.html#SD-spatial-data"><i class="fa fa-check"></i><b>1.1</b> Defining spatial data</a></li>
<li class="chapter" data-level="1.2" data-path="spatial-data-introduction.html"><a href="spatial-data-introduction.html#SD-vector-data"><i class="fa fa-check"></i><b>1.2</b> Spatial data formats</a><ul>
<li class="chapter" data-level="1.2.1" data-path="spatial-data-introduction.html"><a href="spatial-data-introduction.html#simple-features"><i class="fa fa-check"></i><b>1.2.1</b> Simple features</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="spatial-data-introduction.html"><a href="spatial-data-introduction.html#spatial-data-types"><i class="fa fa-check"></i><b>1.3</b> Spatial data types</a></li>
<li class="chapter" data-level="1.4" data-path="spatial-data-introduction.html"><a href="spatial-data-introduction.html#SD-crs"><i class="fa fa-check"></i><b>1.4</b> Coordinate Reference System</a></li>
<li class="chapter" data-level="" data-path="spatial-data-introduction.html"><a href="spatial-data-introduction.html#SD-appendix"><i class="fa fa-check"></i>Further resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html"><i class="fa fa-check"></i><b>2</b> Geocoding Resource Locations</a><ul>
<li class="chapter" data-level="2.1" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#GA-research-question"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#GA-setup"><i class="fa fa-check"></i><b>2.2</b> Environment Setup</a><ul>
<li class="chapter" data-level="2.2.1" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#GA-i-o"><i class="fa fa-check"></i><b>2.2.1</b> Input/Output</a></li>
<li class="chapter" data-level="2.2.2" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#GA-packages1"><i class="fa fa-check"></i><b>2.2.2</b> Load Libraries</a></li>
<li class="chapter" data-level="2.2.3" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#load-data"><i class="fa fa-check"></i><b>2.2.3</b> Load Data</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#GA-geocode-addresses"><i class="fa fa-check"></i><b>2.3</b> Geocode addresses</a><ul>
<li class="chapter" data-level="2.3.1" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#quality-control"><i class="fa fa-check"></i><b>2.3.1</b> Quality Control</a></li>
<li class="chapter" data-level="2.3.2" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#selecting-geocoding-service"><i class="fa fa-check"></i><b>2.3.2</b> Selecting Geocoding Service</a></li>
<li class="chapter" data-level="2.3.3" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#test-geocoding-service"><i class="fa fa-check"></i><b>2.3.3</b> Test Geocoding Service</a></li>
<li class="chapter" data-level="2.3.4" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#prepare-input-parameter"><i class="fa fa-check"></i><b>2.3.4</b> Prepare input parameter</a></li>
<li class="chapter" data-level="2.3.5" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#batch-geocoding"><i class="fa fa-check"></i><b>2.3.5</b> Batch Geocoding</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#GA-spatial-dataframe"><i class="fa fa-check"></i><b>2.4</b> Convert to Spatial Data</a><ul>
<li class="chapter" data-level="2.4.1" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#spatial-reference-systems"><i class="fa fa-check"></i><b>2.4.1</b> Spatial Reference Systems</a></li>
<li class="chapter" data-level="2.4.2" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#enable-points"><i class="fa fa-check"></i><b>2.4.2</b> Enable Points</a></li>
<li class="chapter" data-level="2.4.3" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#visualize-points"><i class="fa fa-check"></i><b>2.4.3</b> Visualize Points</a></li>
<li class="chapter" data-level="2.4.4" data-path="geocodingAddress-tutorial.html"><a href="geocodingAddress-tutorial.html#convert-to-shapefile"><i class="fa fa-check"></i><b>2.4.4</b> Convert to Shapefile</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="buffer_analysis.html"><a href="buffer_analysis.html"><i class="fa fa-check"></i><b>3</b> Buffer Analysis</a><ul>
<li class="chapter" data-level="3.1" data-path="buffer_analysis.html"><a href="buffer_analysis.html#overview"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="buffer_analysis.html"><a href="buffer_analysis.html#environment-setup"><i class="fa fa-check"></i><b>3.2</b> Environment Setup</a><ul>
<li class="chapter" data-level="3.2.1" data-path="buffer_analysis.html"><a href="buffer_analysis.html#BA-i-o"><i class="fa fa-check"></i><b>3.2.1</b> Input/Output</a></li>
<li class="chapter" data-level="3.2.2" data-path="buffer_analysis.html"><a href="buffer_analysis.html#BA-lib"><i class="fa fa-check"></i><b>3.2.2</b> Load Libraries</a></li>
<li class="chapter" data-level="3.2.3" data-path="buffer_analysis.html"><a href="buffer_analysis.html#BA-data"><i class="fa fa-check"></i><b>3.2.3</b> Load Data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="buffer_analysis.html"><a href="buffer_analysis.html#simple-overlay-map"><i class="fa fa-check"></i><b>3.3</b> Simple Overlay Map</a></li>
<li class="chapter" data-level="3.4" data-path="buffer_analysis.html"><a href="buffer_analysis.html#spatial-transformation"><i class="fa fa-check"></i><b>3.4</b> Spatial Transformation</a><ul>
<li class="chapter" data-level="3.4.1" data-path="buffer_analysis.html"><a href="buffer_analysis.html#transform-crs"><i class="fa fa-check"></i><b>3.4.1</b> Transform CRS</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="buffer_analysis.html"><a href="buffer_analysis.html#generate-buffers"><i class="fa fa-check"></i><b>3.5</b> Generate Buffers</a><ul>
<li class="chapter" data-level="3.5.1" data-path="buffer_analysis.html"><a href="buffer_analysis.html#visualize-buffers"><i class="fa fa-check"></i><b>3.5.1</b> Visualize buffers</a></li>
<li class="chapter" data-level="3.5.2" data-path="buffer_analysis.html"><a href="buffer_analysis.html#buffer-union"><i class="fa fa-check"></i><b>3.5.2</b> Buffer union</a></li>
<li class="chapter" data-level="3.5.3" data-path="buffer_analysis.html"><a href="buffer_analysis.html#save-data"><i class="fa fa-check"></i><b>3.5.3</b> Save Data</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="buffer_analysis.html"><a href="buffer_analysis.html#rinse-repeat"><i class="fa fa-check"></i><b>3.6</b> Rinse &amp; Repeat</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="link-contextual-data.html"><a href="link-contextual-data.html"><i class="fa fa-check"></i><b>4</b> Link Community Data</a><ul>
<li class="chapter" data-level="4.1" data-path="link-contextual-data.html"><a href="link-contextual-data.html#overview-1"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="link-contextual-data.html"><a href="link-contextual-data.html#environment-setup-1"><i class="fa fa-check"></i><b>4.2</b> Environment Setup</a><ul>
<li class="chapter" data-level="4.2.1" data-path="buffer_analysis.html"><a href="buffer_analysis.html#BA-i-o"><i class="fa fa-check"></i><b>4.2.1</b> Input/Output</a></li>
<li class="chapter" data-level="4.2.2" data-path="link-contextual-data.html"><a href="link-contextual-data.html#load-libraries"><i class="fa fa-check"></i><b>4.2.2</b> Load Libraries</a></li>
<li class="chapter" data-level="4.2.3" data-path="link-contextual-data.html"><a href="link-contextual-data.html#load-data-1"><i class="fa fa-check"></i><b>4.2.3</b> Load data</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="link-contextual-data.html"><a href="link-contextual-data.html#clean-merge-data"><i class="fa fa-check"></i><b>4.3</b> Clean &amp; Merge Data</a><ul>
<li class="chapter" data-level="4.3.1" data-path="link-contextual-data.html"><a href="link-contextual-data.html#subset-data"><i class="fa fa-check"></i><b>4.3.1</b> Subset Data</a></li>
<li class="chapter" data-level="4.3.2" data-path="link-contextual-data.html"><a href="link-contextual-data.html#identify-geographic-key"><i class="fa fa-check"></i><b>4.3.2</b> Identify Geographic Key</a></li>
<li class="chapter" data-level="4.3.3" data-path="link-contextual-data.html"><a href="link-contextual-data.html#merge-data"><i class="fa fa-check"></i><b>4.3.3</b> Merge Data</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="link-contextual-data.html"><a href="link-contextual-data.html#visualize-data"><i class="fa fa-check"></i><b>4.4</b> Visualize Data</a></li>
<li class="chapter" data-level="4.5" data-path="link-contextual-data.html"><a href="link-contextual-data.html#save-data-1"><i class="fa fa-check"></i><b>4.5</b> Save Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html"><i class="fa fa-check"></i><b>5</b> Census Data Wrangling</a><ul>
<li class="chapter" data-level="5.1" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-research-question"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-setup"><i class="fa fa-check"></i><b>5.2</b> Environment Setup</a><ul>
<li class="chapter" data-level="5.2.1" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-i-o"><i class="fa fa-check"></i><b>5.2.1</b> Input/Output</a></li>
<li class="chapter" data-level="5.2.2" data-path="buffer_analysis.html"><a href="buffer_analysis.html#BA-lib"><i class="fa fa-check"></i><b>5.2.2</b> Load Libraries</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-api-key"><i class="fa fa-check"></i><b>5.3</b> Enable Census API Key</a></li>
<li class="chapter" data-level="5.4" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-get-data"><i class="fa fa-check"></i><b>5.4</b> Load Data Dynamically</a><ul>
<li class="chapter" data-level="5.4.1" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#state-level"><i class="fa fa-check"></i><b>5.4.1</b> State Level</a></li>
<li class="chapter" data-level="5.4.2" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#county-level"><i class="fa fa-check"></i><b>5.4.2</b> County Level</a></li>
<li class="chapter" data-level="5.4.3" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#zipcode-level"><i class="fa fa-check"></i><b>5.4.3</b> Zipcode Level</a></li>
<li class="chapter" data-level="5.4.4" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#census-tract-level"><i class="fa fa-check"></i><b>5.4.4</b> Census Tract Level</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-get-geometry"><i class="fa fa-check"></i><b>5.5</b> Get Geometry</a><ul>
<li class="chapter" data-level="5.5.1" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#using-tigris"><i class="fa fa-check"></i><b>5.5.1</b> Using tigris</a></li>
<li class="chapter" data-level="5.5.2" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#using-tidycensus"><i class="fa fa-check"></i><b>5.5.2</b> Using tidycensus</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#save-data-2"><i class="fa fa-check"></i><b>5.6</b> Save Data</a></li>
<li class="chapter" data-level="5.7" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-appendix"><i class="fa fa-check"></i><b>5.7</b> Appendix</a><ul>
<li class="chapter" data-level="5.7.1" data-path="getACSData-tutorial.html"><a href="getACSData-tutorial.html#CD-explore-variables"><i class="fa fa-check"></i><b>5.7.1</b> Explore variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html"><i class="fa fa-check"></i><b>6</b> Thematic Mapping</a><ul>
<li class="chapter" data-level="6.1" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-research-question"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-setup"><i class="fa fa-check"></i><b>6.2</b> Environment Setup</a></li>
<li class="chapter" data-level="6.3" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-load-variables"><i class="fa fa-check"></i><b>6.3</b> Load data</a></li>
<li class="chapter" data-level="6.4" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-mapping"><i class="fa fa-check"></i><b>6.4</b> Thematic Plotting</a><ul>
<li class="chapter" data-level="6.4.1" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-quantile-plot"><i class="fa fa-check"></i><b>6.4.1</b> Quantile</a></li>
<li class="chapter" data-level="6.4.2" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-jenks-plot"><i class="fa fa-check"></i><b>6.4.2</b> Natural Breaks</a></li>
<li class="chapter" data-level="6.4.3" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-stdev-plot"><i class="fa fa-check"></i><b>6.4.3</b> Standard Deviation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-appendix"><i class="fa fa-check"></i><b>6.5</b> Appendix</a><ul>
<li class="chapter" data-level="" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-set-palette"><i class="fa fa-check"></i>Set Color Palette</a></li>
<li class="chapter" data-level="" data-path="visualizeArealData-tutorial.html"><a href="visualizeArealData-tutorial.html#TM-colorbrewer"><i class="fa fa-check"></i>Use ColorBrewer</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html"><i class="fa fa-check"></i><b>7</b> Nearest Resource Analysis</a><ul>
<li class="chapter" data-level="7.1" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-research-question"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-setup"><i class="fa fa-check"></i><b>7.2</b> Environment Setup</a><ul>
<li class="chapter" data-level="7.2.1" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-packages1"><i class="fa fa-check"></i><b>7.2.1</b> Packages used</a></li>
<li class="chapter" data-level="7.2.2" data-path="buffer_analysis.html"><a href="buffer_analysis.html#BA-i-o"><i class="fa fa-check"></i><b>7.2.2</b> Input/Output</a></li>
<li class="chapter" data-level="7.2.3" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-packages2"><i class="fa fa-check"></i><b>7.2.3</b> Load the packages</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-read-resources"><i class="fa fa-check"></i><b>7.3</b> Load data</a></li>
<li class="chapter" data-level="7.4" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-calculate-centroids"><i class="fa fa-check"></i><b>7.4</b> Calculate centroids</a><ul>
<li class="chapter" data-level="7.4.1" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#visualize-confirm"><i class="fa fa-check"></i><b>7.4.1</b> Visualize &amp; Confirm</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-correct-projection"><i class="fa fa-check"></i><b>7.5</b> Standardize CRS</a></li>
<li class="chapter" data-level="7.6" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-distance"><i class="fa fa-check"></i><b>7.6</b> Calculate Distance</a><ul>
<li class="chapter" data-level="7.6.1" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#merge-data-1"><i class="fa fa-check"></i><b>7.6.1</b> Merge Data</a></li>
<li class="chapter" data-level="7.6.2" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#visualize-confirm-1"><i class="fa fa-check"></i><b>7.6.2</b> Visualize &amp; Confirm</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="centroid-access-tutorial.html"><a href="centroid-access-tutorial.html#CA-save"><i class="fa fa-check"></i><b>7.7</b> Save Data</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><span style='color: #982568; font-size:42px'>Opioid Environment Toolkit
</style></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="spatial-data-introduction" class="section level1">
<h1><span class="header-section-number">1</span> Spatial Data Introduction</h1>
<div id="SD-spatial-data" class="section level2">
<h2><span class="header-section-number">1.1</span> Defining spatial data</h2>
<p>Spatial data refers to data that contain information about specific locations, and the information content of the data may change with location. In other words, “information” and “location” are two important elements in spatial data. On some occasions, spatial data may only include “location.” But without “location,” the data is no longer spatial anymore. For example, a spatial data that describes the resource distribution of Medications for Opioid Overuse Disorder (MOUDs) must contain <em>and enable</em> location information of these MOUD resources, otherwise the data becomes a non-spatial list of those resources.</p>
<p>For the purpose of this tutorial, we will only briefly introduce some important concepts in spatial data. See <em>Further Resources</em> if you would like to learn more about these concepts.</p>
</div>
<div id="SD-vector-data" class="section level2">
<h2><span class="header-section-number">1.2</span> Spatial data formats</h2>
<p>Spatial data can be stored in a text file like comma-separated value (CSV) files. However, the text file needs to have essential location columns with latitude and longitude to represent the coordinate location of a spatial object. Furthermore, a CSV file with lat/long columns is only a flat/non-spatial file, until the spatial location context is enabled as a new spatial data format.</p>
<p>A common spatial data format is the shapefile, which comes from ESRI/ArcGIS proprietary software. The shapefile file format (.shp for short) includes a minimum of 4 files, with a common prefix and different filename extensions <code>.shp</code>, <code>.shx</code>, <code>.dbf</code>, and <code>.prj</code>. In order to work with the spatial data, we need all these four components of the shapefile stored in the same directory, so that the software (such as R) can know how to project spatial objects onto a geographic or coordinate space (i.e., spatial location context is enabled). Other common spatial data formats include the GeoJSON, KML, and geopackage.</p>
<div id="simple-features" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Simple features</h3>
<p><a href="https://r-spatial.github.io/sf/articles/sf1.html">Simple features</a> refers to an international standard (ISO 19125-1:2004) that describes how real-world objects, and their spatial geometries, are represented in computers. This standard is enabled in ESRI/ArcGIS architecture, POSTGIS (a spatial extension for PostGresSQL), the GDAL libraries that serve as underpinnings to most GIS work, and GeoJSONs. The <code>sf</code> R ecoystem makes simple features even more accessible within R, so that simple feature objects in spatial data are also stored in a data frame, with one vector/column containing geographic data (usually named “geometry” or “geom”).</p>
<p>Why should you care about these computational components of spatial systems architecture? Spatial analysis often requires troubleshooting, and spatial formats can be complicated.</p>
<p>We recommend using the <code>str</code> function in R to familiarize yourself with data objects as you go, and to explore the data files as well. For example: a <code>shapefile</code> includes (at least) four components, separating the data as a <code>.dbf</code> file and projection information as a <code>.prj</code> file. In contrast, the <code>sf</code> spatial file loaded in your R environment is one unified object, has the spatial information recorded as a geometry field, and projection stored as metadata.</p>
</div>
</div>
<div id="spatial-data-types" class="section level2">
<h2><span class="header-section-number">1.3</span> Spatial data types</h2>
<p>Two common formats of spatial data are vector and raster data. For the purpose of this tutorial, we will focus on vector data that represents the world surface using points, lines, and polygons. Connecting points can generate lines, and connecting lines that create an enclosed area can generate polygons. Below we use <code>sf</code> to create some commonly used geometry types based on points, lines, and polygons. For our purposes, think of further simplifying these to points, lines, and polygons. A group of clinics can be geocoded and converted to points, whereas zip code boudnaries are represented as polygons.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co"># create a XY point</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">point &lt;-<span class="st"> </span><span class="kw">st_point</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>))</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># create a multipoint that includes five points</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">multipoint &lt;-<span class="st"> </span><span class="kw">st_multipoint</span>(<span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>)))</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw">plot</span>(point, <span class="dt">main =</span> <span class="st">&quot;point&quot;</span>)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw">plot</span>(multipoint, <span class="dt">main =</span> <span class="st">&quot;multipoint&quot;</span>)</a></code></pre></div>
<p><img src="Opioid-Environment-Toolkit_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># create a linestring by combining three points</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">linestring &lt;-<span class="st"> </span><span class="kw">st_linestring</span>(<span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>), <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)))</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co"># create a multilinestring</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">multilinestring &lt;-<span class="st"> </span><span class="kw">st_multilinestring</span>(<span class="kw">list</span>(<span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>), <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)),</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">                                       <span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">3</span>))))</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="kw">plot</span>(linestring, <span class="dt">main =</span> <span class="st">&quot;linestring&quot;</span>)</a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw">plot</span>(multilinestring, <span class="dt">main =</span> <span class="st">&quot;multistring&quot;</span>)</a></code></pre></div>
<p><img src="Opioid-Environment-Toolkit_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># create a polygon </span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">polygon &lt;-<span class="st"> </span><span class="kw">st_polygon</span>(<span class="kw">list</span>(<span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">1</span>), <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))))</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># create multipolygon</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">multipolygon &lt;-<span class="st"> </span><span class="kw">st_multipolygon</span>(<span class="kw">list</span>(<span class="kw">list</span>(<span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>), <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">1</span>), <span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>))), <span class="kw">list</span>(<span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>)))))</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="kw">plot</span>(polygon, <span class="dt">main =</span> <span class="st">&quot;polygon&quot;</span>)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="kw">plot</span>(multipolygon, <span class="dt">main =</span> <span class="st">&quot;multipolygon&quot;</span>)</a></code></pre></div>
<p><img src="Opioid-Environment-Toolkit_files/figure-html/unnamed-chunk-4-3.png" width="672" /></p>
<p>Read more regarding vector and raster data from <a href="https://geocompr.robinlovelace.net/spatial-class.html#intro-sf">Chapter 2 Geographic data in R</a> of the Lovelace et al 2019 text, <a href="https://geocompr.robinlovelace.net/">Geocomputation with R</a>. This opensource text is an incredible resource for those who are interested in learning more details regarding geographic data analysis, visualization, and modeling, and represents one of dozens of resources available for learning and honing R &amp; spatial analysis skills.</p>
</div>
<div id="SD-crs" class="section level2">
<h2><span class="header-section-number">1.4</span> Coordinate Reference System</h2>
<p>As noted before, the most fundamental element of a spatial data is “location.” A <strong>Coordinate Reference System (CRS)</strong> communicates what method should be used to flatten or project the Earth’s surface onto a 2-dimensional map.</p>
<p>Importantly, different CRS implies different ways of projections and generates substantially different visualizations. For example, following are some world maps using different projections. (Check out <a href="https://futuremaps.com/blogs/news/top-10-world-map-projections">here</a> for more different world map projections.)</p>
<div class="figure"><span id="fig:unnamed-chunk-5"></span>
<img src="img/worldproject1.jpg" alt="[The whole wide world](https://www.flickr.com/photos/34197995@N02/9514590409) by [PeterFisken](https://www.flickr.com/photos/34197995@N02) is under [CC BY 2.0](https://creativecommons.org/licenses/by/2.0/?ref=ccsearch&amp;atype=rich)"  />
<p class="caption">
Figure 1.1: <a href="https://www.flickr.com/photos/34197995@N02/9514590409">The whole wide world</a> by <a href="https://www.flickr.com/photos/34197995@N02">PeterFisken</a> is under <a href="https://creativecommons.org/licenses/by/2.0/?ref=ccsearch&amp;atype=rich">CC BY 2.0</a>
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="img/worldproject2.jpg" alt="[Peters Projection World Map (35'x51')](https://www.flickr.com/photos/35468141938@N01/3714559813) by [inju](https://www.flickr.com/photos/35468141938@N01) is under [CC BY-NC-SA 2.0](https://creativecommons.org/licenses/by-nc-sa/2.0/?ref=ccsearch&amp;atype=rich)"  />
<p class="caption">
Figure 1.2: <a href="https://www.flickr.com/photos/35468141938@N01/3714559813">Peters Projection World Map (35’x51’)</a> by <a href="https://www.flickr.com/photos/35468141938@N01">inju</a> is under <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/?ref=ccsearch&amp;atype=rich">CC BY-NC-SA 2.0</a>
</p>
</div>
<div class="figure"><span id="fig:unnamed-chunk-7"></span>
<img src="img/worldproject3.jpg" alt="[Hammond Cylindrical Projection World Map 1905](https://www.flickr.com/photos/14277117@N03/4775662240) by [perpetualplum](https://www.flickr.com/photos/14277117@N03) is licensed under [CC BY 2.0](https://creativecommons.org/licenses/by/2.0/?ref=ccsearch&amp;atype=rich)"  />
<p class="caption">
Figure 1.3: <a href="https://www.flickr.com/photos/14277117@N03/4775662240">Hammond Cylindrical Projection World Map 1905</a> by <a href="https://www.flickr.com/photos/14277117@N03">perpetualplum</a> is licensed under <a href="https://creativecommons.org/licenses/by/2.0/?ref=ccsearch&amp;atype=rich">CC BY 2.0</a>
</p>
</div>
<p>Because different CRS imply different ways of projections and generates substantially different visualizations, it is important to make sure the CRS accompanied with each spatial data are the same before implementing any advanced spatial analysis or geometric processing. In <code>sf</code>, you can use the function <code>st_crs</code> to check the CRS used in one data, and the function <code>st_transform</code> to project the data to a particular CRS. See this <a href="https://spatialanalysis.github.io/workshop-notes/introduction-to-spatial-data.html#interactive-tutorial">Interactive Tutorial</a> that demonstrates these functions.</p>
<p>The CRS concept can be tricky to comprehend and utilize in practice, so we will come back to this several times in our tutorials.</p>
</div>
<div id="SD-appendix" class="section level2 unnumbered">
<h2>Further resources</h2>
<ul>
<li>See <a href="https://geocompr.robinlovelace.net/spatial-class.html">Chapter 2 Geographic data in R in Geocomputation with R</a> for more info about <a href="https://geocompr.robinlovelace.net/spatial-class.html#vector-data">Vector data</a>, <a href="https://geocompr.robinlovelace.net/spatial-class.html#raster-data">Raster data</a>, and <a href="https://geocompr.robinlovelace.net/spatial-class.html#raster-data">Coordiante Reference Systems</a>.</li>
<li>See this <a href="https://datacarpentry.org/organization-geospatial/03-crs/index.html">Software Carpentry workshop</a> for more explanations to better understand coordinate reference systems.</li>
<li>See this <a href="https://spatialanalysis.github.io/workshop-notes/introduction-to-spatial-data.html#interactive-tutorial">Interactive Tutorial</a> that uses <code>sf</code> package to project spatial data in R.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="geocodingAddress-tutorial.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
